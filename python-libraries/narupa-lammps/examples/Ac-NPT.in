# Ac-NPT

units          real
atom_style     full

atom_modify     map array
pair_style     lj/class2/coul/long 10.0 10.0
dielectric     1.0
special_bonds  lj 0.000000 0.000000 1.000000 coul 0.000000 0.000000 1.000000
bond_style     class2
angle_style    class2
dihedral_style class2
improper_style class2

read_data      Ac-NPT.data


kspace_style   pppm 0.0001
group          mobile union all
timestep       1
fix            1 mobile nve

python         post_force_callback here """
from lammps import lammps
from narupa.lammps import LammpsHook
h = LammpsHook()

def post_force_callback(lmp,v):
  h.lammps_hook(lmp)
"""

fix     3 all python/invoke 1 post_force post_force_callback
dump           1 all atom 200 Ac-NPT.dump
dump_modify    1 scale no image yes
dump           2 all custom 200 Ac-NPT.veldump vx vy vz
thermo_style   custom etotal ke pe ebond eangle edihed eimp evdwl ecoul elong etail enthalpy temp press pxx pxy pxz pyy pyz pzz vol lx ly lz xy xz yz
thermo_modify  line multi
thermo         200
thermo_modify  flush yes
restart        200 Ac-NPT1.rst Ac-NPT2.rst
run            2000000
write_restart  Ac-NPT.rst
